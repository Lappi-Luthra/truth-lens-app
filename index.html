<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Truth Lens Pro</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@stlite/mountable@0.39.0/build/stlite.css" />
  </head>
  <body>
    <div id="root"></div>
    <script src="https://cdn.jsdelivr.net/npm/@stlite/mountable@0.39.0/build/stlite.js"></script>
    <script>
      stlite.mount({
        requirements: ["google-genai", "groq", "pillow"],
        entrypoint: "app.py",
        files: {
          "app.py": `
import streamlit as st
from google import genai
from groq import Groq
from PIL import Image

st.set_page_config(page_title="Truth Lens")
st.title("üõ°Ô∏è TRUTH LENS PRO")

g_key = st.sidebar.text_input("Gemini Key", type="password")
gr_key = st.sidebar.text_input("Groq Key", type="password")

file = st.file_uploader("Upload Image", type=['jpg', 'png'])

if file:
    img = Image.open(file)
    st.image(img)
    if st.button("ANALYZE"):
        if not g_key or not gr_key:
            st.error("Enter Keys in Sidebar!")
        else:
            with st.spinner("Analyzing..."):
                c_g = genai.Client(api_key=g_key)
                res = c_g.models.generate_content(model="gemini-2.0-flash", contents=["Analyze for fraud", img])
                c_gr = Groq(api_key=gr_key)
                v = c_gr.chat.completions.create(messages=[{"role":"user","content":res.text}], model="llama-3.3-70b-versatile")
                st.success("Audit Complete")
                st.write(v.choices[0].message.content)
`
        }
      }, document.getElementById("root"));
    </script>
  </body>
</html>
